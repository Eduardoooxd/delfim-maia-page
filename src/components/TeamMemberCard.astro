---
import { Image } from "astro:assets";
import type { TeamMember } from "./data";
import { cn } from "@/lib/utils";

const BACKGROUNDS_COLORS: {
  imageBackground: string;
  textBackground: string;
}[] = [
  { imageBackground: "#d9d9d9", textBackground: "#4b3f3f" },
  { imageBackground: "#697a7f", textBackground: "#697a7f" },
  { imageBackground: "#a9afbb", textBackground: "#a9afbb" },
  { imageBackground: "#bd9084", textBackground: "#bd9084" },
  { imageBackground: "#b1ced1", textBackground: "#697a7f" },
  { imageBackground: "#ebcfbd", textBackground: "#ebcfbd" },
  { imageBackground: "#cbaabd", textBackground: "#cbaabd" },
  { imageBackground: "#b3c1b6", textBackground: "#b3c1b6" },
  { imageBackground: "#cccfff", textBackground: "#cccfff" },
  { imageBackground: "#d5a38f", textBackground: "#d5a38f" },
  { imageBackground: "#dfdaa9", textBackground: "#dfdaa9" },
  { imageBackground: "#c67f78", textBackground: "#bd9084" },
];

type Props = TeamMember & {
  className?: string;
  teamMemberIndex: number;
};

const { name, image, role, className, teamMemberIndex } = Astro.props;

const backgroundColor =
  BACKGROUNDS_COLORS[teamMemberIndex % BACKGROUNDS_COLORS.length];
---

<a class={cn("block relative", className)} href="#">
  <Image alt="" class="h-auto max-w-full rounded-lg" src={image} />
  <div
    class={cn(
      "absolute bottom-5 right-0 text-white py-2 min-w-[50%] flex justify-end",
      `bg-[${backgroundColor}]`,
      "bg-slate-600",
    )}
  >
    <div class={cn("text-sm w-fit text-right capitalize")}>
      <h6 class="text-sm font-semibold border-b pr-2">
        {name}
      </h6>
      <hr />
      <p class="text-sm px-2">{role}</p>
    </div>
  </div>
</a>
