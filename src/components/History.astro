---
import { Image } from "astro:assets";
import HistoryIllustrationImage from "@/images/history-illustration.webp";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const translationContent = useTranslations(lang);
const { title, subTitle, historyText } = translationContent.history;
---

<section
  id="history"
  class="flex bg-white flex-col sm:flex-row gap-4 sm:gap-8 min-h-screen-without-nav"
>
  <div class="relative w-full sm:w-1/3">
    <Image
      class="hidden sm:block h-full w-full"
      alt="Ilustração da História de Delfim Maia"
      src={HistoryIllustrationImage}
    />
    <p
      class="p-1 bg-delfim-primary sm:bg-transparent text-white text-3xl sm:absolute top-4 -right-[10%] block text-center font-bold uppercase text-shadow shadow-slate-600"
    >
      {
        lang === "pt" ? (
          <>
            Quem{" "}
            <span class="bg-delfim-primary sm:py-1 sm:px-2 text-shadow-sm shadow-slate-600">
              Somos
            </span>
          </>
        ) : (
          <>
            About <span class="bg-delfim-primary sm:py-1 sm:px-3 ">Us</span>
          </>
        )
      }
    </p>
  </div>

  <article
    class="px-4 sm:py-16 w-full flex flex-col gap-6 max-w-5xl justify-around"
  >
    {
      historyText.map((text) => (
        <p class="text-sm sm:text-lg leading-7">{text}</p>
      ))
    }
  </article>
</section>
